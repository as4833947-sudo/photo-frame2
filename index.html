<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ø¯Ù…Ø¬ ØµÙˆØ±ØªÙƒ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¥Ø·Ø§Ø±</title>

<style>
body{
    text-align:center;
    font-family:Tahoma;
    background:#efefef;
}
.frame-container{
    position:relative;
    width:350px;
    margin:auto;
}
#userImg{
    position:absolute;
    top:120px;
    left:175px;
    width:165px;
    height:210px;
    object-fit:cover;
    border-radius:5px;
    display:none;
}
button{
    margin-top:12px;
    padding:10px 18px;
    font-size:17px;
    border:none;
    background:#0077ff;
    color:white;
    border-radius:6px;
    cursor:pointer;
}
#downloadBtn{
    background:#28a745;
}
</style>
</head>

<body>

<h2>ğŸ“¸ Ø§Ø±ÙØ¹ ØµÙˆØ±ØªÙƒ Ù„ØªØ¸Ù‡Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¥Ø·Ø§Ø±</h2>

<input type="file" id="upload" accept="image/*"><br><br>

<div class="frame-container">
    <img src="ÙƒØ¨ÙŠØ±.jpg" width="350">
    <img id="userImg">
</div>

<canvas id="canvas" width="350" height="600" style="display:none"></canvas><br>

<button id="downloadBtn" style="display:none">â¬‡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©</button>

<script>
const upload=document.getElementById("upload");
const userImg=document.getElementById("userImg");
const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");
const download=document.getElementById("downloadBtn");
const frame=new Image();
frame.src="ÙƒØ¨ÙŠØ±.jpg";

upload.onchange=(e)=>{
    let file=e.target.files[0];
    if(!file) return;
    
    userImg.src=URL.createObjectURL(file);
    userImg.style.display="block";

    userImg.onload=()=>{ drawFinal(); };
};

function drawFinal(){
    ctx.clearRect(0,0,canvas.width,canvas.height); // ğŸ”¥ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨ØªÙƒØ±Ø§Ø± Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª
    ctx.drawImage(frame,0,0,350,600);
    ctx.drawImage(userImg,175,120,165,210);

    download.style.display="inline-block"; // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„
}

download.onclick=()=>{
    let link=document.createElement("a");
    link.href=canvas.toDataURL("image/png");
    link.download="ØµÙˆØ±ØªÙƒ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¥Ø·Ø§Ø±.png";
    link.click();
};
</script>

</body>
</html>
