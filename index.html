<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ø¶Ø¹ ØµÙˆØ±ØªÙƒ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¥Ø·Ø§Ø±</title>

<style>
body{
    text-align:center;
    font-family:Tahoma;
    background:#efefef;
}
.frame-container{
    position:relative;
    width:350px;
    margin:auto;
}
#userImg{
    position:absolute;
    top:120px; /* ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ù…ÙƒØ§Ù† Ø§Ù„ØµÙˆØ±Ø© */
    left:175px;
    width:165px;
    height:210px;
    object-fit:cover;
    border-radius:5px;
}
#finalCanvas{
    display:none;
}
button{
    margin-top:12px;
    padding:10px 18px;
    font-size:17px;
    border:none;
    background:#0077ff;
    color:white;
    border-radius:6px;
    cursor:pointer;
}
</style>
</head>

<body>

<h2>ğŸ“¸ Ø§Ø±ÙØ¹ ØµÙˆØ±ØªÙƒ Ù„ØªØ¸Ù‡Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¥Ø·Ø§Ø±</h2>

<input type="file" id="upload" accept="image/*">
<br><br>

<div class="frame-container">
    <img src="ÙƒØ¨ÙŠØ±.jpg" width="350">
    <img id="userImg">
</div>

<canvas id="finalCanvas" width="350" height="600"></canvas>
<br>

<button id="downloadBtn" style="display:none;" onclick="downloadFinal()">â¬‡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©</button>

<script>
const upload=document.getElementById("upload");
const userImg=document.getElementById("userImg");
const download=document.getElementById("downloadBtn");
const canvas=document.getElementById("finalCanvas");
const ctx=canvas.getContext("2d");

upload.onchange = (e)=>{
    let file = e.target.files[0];
    userImg.src = URL.createObjectURL(file);
    userImg.onload=makeFinal;
};

function makeFinal(){
    const frame = new Image();
    frame.src="ÙƒØ¨ÙŠØ±.jpg";

    frame.onload = ()=>{
        ctx.drawImage(frame,0,0,350,600);
        ctx.drawImage(userImg,175,120,165,210); // Ù…ÙƒØ§Ù† Ø¯Ù…Ø¬ Ø§Ù„ØµÙˆØ±Ø©
        download.style.display="inline-block";
    };
}

function downloadFinal(){
    let link=document.createElement("a");
    link.download="ØµÙˆØ±ØªÙƒ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¥Ø·Ø§Ø±.png";
    link.href=canvas.toDataURL();
    link.click();
}
</script>

</body>
</html>
